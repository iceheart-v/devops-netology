Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

Задача 1
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Основная разница в том, как и какое ядро ОС используется для гипервизора и для виртуальных машин.
Так в аппаратной ядро для работы гипервизора "прикручено" в самом гипервизоре, вм запускаются с ядрами из их образов..
В паравиртуализации вм тоже запускаются с ядрами из своих образов, но гипервизор использует не свое ядро, а ядро домашенй ОС.
В виртуализации на основе ОС и гипервизор и вм используют ядро домашней ОС.


Задача 2
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

физические сервера,
паравиртуализация,
виртуализация уровня ОС.
Условия использования:

Высоконагруженная база данных, чувствительная к отказу. - Минимум 2 физические машины и на каждой паравиртуализация,
чтобы можно было несколько реплик сделать и удобнее делать и хранить снепшоты на случай обновьений

Различные web-приложения. - Виртуализация уровня ОС, этого обычно достаточно, чтобы друг другу не мешали, также приложения
 легче будет асштабировать.

Windows системы для использования бухгалтерским отделом. - Не очень понятно что за системы. Понятно, что стоит взять свой сервер,
так как это удобнее и по безопасности и по времени отклика, но вполне допустимо использовать паравиртуализацию, чтобы лучше задействовать железо.

Системы, выполняющие высокопроизводительные расчеты на GPU. - Из предложенных вариантов - кластер физических серверов, чтобы дать максимальную
производительность систем. Но в идеале можно попробовать и на облака заливать, учитывая цены на видеокарты сейчас,
может быть и выгоднее сейчас, особенно если нагрузка не постоянная или сезонная.

Задача 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
Amazon EC2, всю автоматику можно оттуда взять и относительно других вариантов легко настроить.

Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
KVM (с Proxmox) - работает хорошо, умеет в windiows, что еще желать.

Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
Hyper-V, если считаем, что Windows лицензии приобретены, то сам по себе он бесплатный

Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
Если под "рабочим" имеется в виду среда для тестов на локальных машинах сотрудников, то вполне подойдет VirtualBox
Если нужен именно предпродуктив, то можно взять тот же KVM с Proxmox или Xen.

Задача 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

1) Гетерогенную среду сложнее обслуживать с точки зрения подбора кадров инженеров - необходимо или иметь большую команду,
или многопрофильных специалистов.
2) Переезд в такой среде может превратиться в нетривиальную задачу, требующую много человек-часов на планирование и выполнение.
3) Настройка мониторинга также сложнее в разы.

Снизить риски можно заранее максимально продумав архитектуру и даже ее возможное развитие.
Заранее знать, какие системы где и как размещать, как и какими средствами мониторить, как производить поддержку и обновление.

Очевидно, что гомогенная среда имеет выгоду в обслуживании, но это всегда значительно дороже и может потребовать особых компетенций:
- К примеру можно пересадить все приложения на Amazon Lambda и стать вообще serverless
- Или же развернуть свое приватное облако и крутить там openshift (правда насколько это можно назвать гомогенной средой тоже вопрос)

Но реальность такова, что для удешевления эксплуатации используются разные подходы, плюс еще в компании почти наверняка
есть легаси продукты, которые разрабатывались под определенную и уже устаревшую среду и перевозить их необосновано сложно.
К примеру, для сред тестирования и предпродуктива можно использовать собственную машину или более дешевого облачного провайдера,
а для продуктивной среды облака amazon, google или azure. Также не стоит забывать про docker/kubernetes, которые усложняют архитектуру,
но позволяют добиться прекрасных результатов по масштабированию и бесшовному деплою приложений.
